conn system/oracle
drop user pcs cascade;

create user pcs identified by pcs;
grant connect,resource,create view to pcs;
conn pcs/pcs;
set pagesize 1000;

DROP TABLE DOSEN CASCADE CONSTRAINT PURGE;
DROP TABLE MAHASISWA CASCADE CONSTRAINT PURGE;
DROP TABLE JURUSAN CASCADE CONSTRAINT PURGE;
DROP TABLE MATAKULIAH CASCADE CONSTRAINT PURGE;
DROP TABLE KELAS CASCADE CONSTRAINT PURGE;
DROP TABLE PERIODE CASCADE CONSTRAINT PURGE;
DROP TABLE PERWALIAN CASCADE CONSTRAINT PURGE;
DROP TABLE DPERWALIAN CASCADE CONSTRAINT PURGE;
DROP TABLE RUANGAN CASCADE CONSTRAINT PURGE;
DROP TABLE JADWAL CASCADE CONSTRAINT PURGE;
DROP TABLE PENGGUNA CASCADE CONSTRAINT PURGE;

CREATE TABLE DOSEN (
	NIP               VARCHAR2(9)  CONSTRAINT PK_DOSEN PRIMARY KEY,
	NAMA_DOSEN	      VARCHAR2(50) CONSTRAINT NN_NMDOSEN NOT NULL,
	JKDOSEN	          VARCHAR2(1)  CONSTRAINT CH_JK_DSN CHECK(jkdosen='P' or jkdosen='L')NOT NULL,
	AGAMA_DOSEN	      VARCHAR2(15) CONSTRAINT NN_AGM_DOSEN NOT NULL,
	TEMPATLHR_DOSEN   VARCHAR2(30) CONSTRAINT NN_TMPLHR_DOSEN NOT NULL,
	TANGGAL_DOSEN     DATE NOT NULL,
	ALAMAT_DOSEN      VARCHAR2(50) CONSTRAINT NN_ALAMAT_DSN  NOT NULL,
	STATUS_WALI       VARCHAR2(1)  CONSTRAINT CH_STATUS_WALI CHECK(STATUS_WALI = 0 OR STATUS_WALI = 1),
	NOTELP_DOSEN      VARCHAR2(15) NOT NULL 
);

CREATE TABLE JURUSAN (
	KODE_JURUSAN    VARCHAR2(3) PRIMARY KEY,
	NAMA_JURUSAN    VARCHAR2(35) CONSTRAINT NN_NM_NMJUR NOT NULL,
	NIP	            VARCHAR2(9)  CONSTRAINT FK0_JUR REFERENCES DOSEN(NIP)
);

CREATE TABLE MAHASISWA (
	NRP              VARCHAR2(9)  CONSTRAINT PK_MHS PRIMARY KEY,
	NIP              VARCHAR2(9)  CONSTRAINT FK0_MHS REFERENCES DOSEN(NIP),
	KODE_JURUSAN     VARCHAR2(2)  CONSTRAINT FK1_MHS REFERENCES JURUSAN(KODE_JURUSAN),
	NAMA_MAHASISWA   VARCHAR2(50) CONSTRAINT NN_NM_MHS NOT NULL,
	AGAMA_MAHASISWA  VARCHAR2(15) CONSTRAINT CH_AGM_MHS NOT NULL,
	TEMPATLAHIR_MHS  VARCHAR2(30) CONSTRAINT NN_TMP_LHR_MHS NOT NULL,
	TGLLAHIR_MHS	 DATE NOT NULL,
	JENIS_KELAMIN	 VARCHAR2(1)  CONSTRAINT CHECK_JENIS_KELAMIN CHECK(JENIS_KELAMIN = 'L' OR JENIS_KELAMIN = 'P'),
	ALAMAT_MHS	     VARCHAR2(50) CONSTRAINT NN_ALAMAT_MHS NOT NULL,
	NOTELP_MHS	     VARCHAR2(15) CONSTRAINT NN_NOTELP_MHS NOT NULL,
	NAMAORTU_MHS	 VARCHAR2(50) CONSTRAINT NN_NMORTU NOT NULL,
	NOTELPORTU_MHS	 VARCHAR2(15) CONSTRAINT NN_TELP_ORTU NOT NULL
);

CREATE TABLE PERIODE (
	KODE_THN_AJARAN   VARCHAR2(5)	CONSTRAINT PK_PERIODE PRIMARY KEY, 
	TAHUN_AJARAN      VARCHAR2(30)	--GENAP 2018/2019
);

CREATE TABLE MATAKULIAH (
	KODE_MK	      VARCHAR2(5)  CONSTRAINT NN_MATKUL PRIMARY KEY,
	KODE_JURUSAN  VARCHAR2(2)  CONSTRAINT FK0_MATKUL REFERENCES JURUSAN(KODE_JURUSAN),
	NAMA_MK	      VARCHAR2(50) CONSTRAINT NN_NMMK NOT NULL,
	JUMLAH_SKS	  NUMBER(1)    CONSTRAINT CH_JUM_SKS CHECK(JUMLAH_SKS>0 AND JUMLAH_SKS<6) NOT NULL,
	STATUS	      NUMBER(1)    CONSTRAINT CH_STATUS CHECK(STATUS = 0 OR STATUS = 1),
	KODE_THN_AJARAN  VARCHAR2(5)  CONSTRAINT FK0_MK REFERENCES PERIODE(KODE_THN_AJARAN)
);

CREATE TABLE KELAS (
	KODE_MK	      VARCHAR2(5)	,
	KODE_KELAS	  VARCHAR2(5)	,
	NAMA_KELAS 	  VARCHAR2(50) CONSTRAINT NN_NM_KELAS NOT NULL,
	KAPASITAS_PESERTA   NUMBER(3),
	CONSTRAINT PK_KELAS PRIMARY KEY(KODE_MK,KODE_KELAS)
);

CREATE TABLE PERWALIAN (
	KODE_FRS	      VARCHAR2(8)	PRIMARY KEY,
	NRP	              VARCHAR2(9)	REFERENCES MAHASISWA(NRP),
	KODE_THN_AJARAN	  VARCHAR2(5)	REFERENCES PERIODE(KODE_THN_AJARAN),
	IPS	              NUMBER(5) NOT NULL
);

CREATE TABLE DPERWALIAN (
	KODE_FRS          VARCHAR2(8)	REFERENCES PERWALIAN(KODE_FRS),
	KODE_MK	          VARCHAR2(5)	REFERENCES MATAKULIAH(KODE_MK),
	STATUS_PERWALIAN  NUMBER(1) NOT NULL,
	TANGGAL_PERWALIAN  DATE,
	PENGAMBILAN_KE     NUMBER(1),
	PRIMARY KEY (KODE_FRS,KODE_MK)
);

CREATE TABLE RUANGAN (
	KODE_RUANGAN     VARCHAR2(5) CONSTRAINT PK_RUANGAN PRIMARY KEY,
	JUMLAH_KURSI     NUMBER(3)   CONSTRAINT CH_JUM_KURSI CHECK(JUMLAH_KURSI>=0),
	PERUNTUKAN       VARCHAR2(30) CONSTRAINT NN_PERUNTUKAN NOT NULL
);

CREATE TABLE JADWAL (
	KODE_JADWAL	     VARCHAR2(5) PRIMARY KEY,
	NIP	             VARCHAR2(9) CONSTRAINT FK1_JADWAL REFERENCES DOSEN(NIP),
	KODE_RUANGAN     VARCHAR2(5) CONSTRAINT FK2_JADWAL REFERENCES RUANGAN(KODE_RUANGAN),
	KODE_MK          VARCHAR2(5) 	,
	KODE_KELAS       VARCHAR2(5)    ,
	KODE_THN_AJARAN	 VARCHAR2(5) CONSTRAINT FK3_JADWAL REFERENCES PERIODE(KODE_THN_AJARAN),
	HARI             VARCHAR2(10)NOT NULL,
	JAM_AWAL         VARCHAR2(5) NOT NULL,
	JAM_AKHIR        VARCHAR2(5) NOT NULL,
	constraint fk0_jadwal foreign key(kode_mk,kode_kelas) references kelas(kode_mk,kode_kelas)
);

CREATE TABLE PENGGUNA
(
	USERID 				VARCHAR2(9) CONSTRAINT PK_PENGGUNA PRIMARY KEY,
	PASSWORD 			VARCHAR2(9) CONSTRAINT NN0_PENGGUNA NOT NULL,
	ROLE 				VARCHAR2(9) CONSTRAINT NN1_PENGGUNA NOT NULL
);

INSERT INTO PENGGUNA VALUES('217011670','123','MHS');
INSERT INTO PENGGUNA VALUES('217011671','123','MHS');
INSERT INTO PENGGUNA VALUES('217011672','123','MHS');
INSERT INTO PENGGUNA VALUES('217011673','123','MHS');
INSERT INTO PENGGUNA VALUES('217011674','123','MHS');
INSERT INTO PENGGUNA VALUES('217011675','123','MHS');
INSERT INTO PENGGUNA VALUES('217102588','123','MHS');
INSERT INTO PENGGUNA VALUES('217102590','123','MHS');
INSERT INTO PENGGUNA VALUES('217102591','123','MHS');
INSERT INTO PENGGUNA VALUES('217102593','123','MHS');
INSERT INTO PENGGUNA VALUES('217102594','123','MHS');
INSERT INTO PENGGUNA VALUES('217102595','123','MHS');
INSERT INTO PENGGUNA VALUES('AA001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('AA002','123','DOSEN');
INSERT INTO PENGGUNA VALUES('AA003','123','DOSEN');
INSERT INTO PENGGUNA VALUES('AD001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('AD002','123','DOSEN');
INSERT INTO PENGGUNA VALUES('AG001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('AS001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('AT001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('BB001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('BS001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('CA001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('CP001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('DA001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('DA002','123','DOSEN');
INSERT INTO PENGGUNA VALUES('DC001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('DD001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('EI001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('EP001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('EP002','123','DOSEN');
INSERT INTO PENGGUNA VALUES('ER001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('ES001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('ES002','123','DOSEN');
INSERT INTO PENGGUNA VALUES('FH001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('FX001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('GL001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('GU001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('HA001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('HB001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('HJ001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('HS001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('HT001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('IC001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('IE001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('IG001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('IL001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('IM001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('IY001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('JC001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('JH001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('JN001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('JP001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('JP002','123','DOSEN');
INSERT INTO PENGGUNA VALUES('JS001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('KE001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('KG001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('KI001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('KS001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('LZ001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('MB001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('MD001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('MS001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('OB001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('PE001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('RA001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('RL001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('SA001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('SA002','123','DOSEN');
INSERT INTO PENGGUNA VALUES('SR001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('ST001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('ST002','123','DOSEN');
INSERT INTO PENGGUNA VALUES('SU001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('TP001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('YJ001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('YK001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('YM001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('YW001','123','DOSEN');
INSERT INTO PENGGUNA VALUES('admin','admin','admin');

INSERT INTO DOSEN VALUES('AD001','Agatha Dinarah Sri Rumestri, S.T.','P','KRISTEN','PURBALINGGA',to_date('21/08/1970','dd/mm/yyyy'),'Jalan Purwodadi 1 No.180','0', '081221645484');
INSERT INTO DOSEN VALUES('AG001','Agus Gunawan, Ir., MSEE.', 'L','KATHOLIK','SURABAYA',to_date('11/10/1974','dd/mm/yyyy'), 'Jalan Raya Menur No.109', '1', '081145456252');
INSERT INTO DOSEN VALUES('AD002','Alan David Prayogi, S.T.', 'L','BUDHA','MALANG',to_date('11/10/1975','dd/mm/yyyy'), 'Jalan Pandugo No.133', '1','081111545654');
INSERT INTO DOSEN VALUES('DA001','David Alexandre, S.Kom., MBA', 'L','KRISTEN','SURABAYA',to_date('23/06/1976','dd/mm/yyyy'), 'Jalan Raya Kali Rungkut No.35', '1','081665789987');
INSERT INTO DOSEN VALUES('AA001','Amelia Agustina, S.Ds.', 'P','KRISTEN','SURABAYA',to_date('27/08/1976','dd/mm/yyyy'), 'Jalan Nginden 4C No.92', '0','082262556563');
INSERT INTO DOSEN VALUES('AA002','Amelia Alexandra, S.Kom.', 'P','KATHOLIK','SURABAYA',to_date('18/06/1977','dd/mm/yyyy'), 'Jalan Raya Lontar Candi Lempung No.165', '1','081132223255');
INSERT INTO DOSEN VALUES('AS001','Andri Suhartono, S.T.', 'L','ISLAM','SURABAYA',to_date('21/05/1979','dd/mm/yyyy'), 'Jalan Rungkut Asri Utara XX No.98', '0','08125648795');
INSERT INTO DOSEN VALUES('AT001','Arya Tandy Hermawan, Ir., M.T.', 'L','KATHOLIK','SURABAYA',to_date('05/12/1980','dd/mm/yyyy'), 'Jalan Pregolan Bunder No.79', '0','081789887542');
INSERT INTO DOSEN VALUES('AA003','Audrey Ayu Dianaris, S.SI.', 'P','KRISTEN','SURABAYA',to_date('15/02/1981','dd/mm/yyyy'),'Jalan Pucang Kerep No.38', '0','081323665995');
INSERT INTO DOSEN VALUES('BB001','Bonifacia Bulan Arumingtyas, S.Ds.', 'P','KRISTEN','BANYUWANGI',to_date('20/12/1981','dd/mm/yyyy'), 'Jalan Raya Gunung Anyar Tambak No.177', '1', '0822336225489556');
INSERT INTO DOSEN VALUES('BS001','Budhy Sutanto, Ir.', 'L','KRISTEN','SURABAYA',to_date('04/02/1982','dd/mm/yyyy'),'Jalan Raya Darmo No.179', '0', '082247748495');
INSERT INTO DOSEN VALUES('CA001','Christian Aditya, S.Kom.', 'L','KRISTEN','SURABAYA',to_date('08/11/1982','dd/mm/yyyy'),'Jalan Ngagel Madya 5 No.47', '0', '082265497877');
INSERT INTO DOSEN VALUES('DA002','Decky Avrilukito, S.Sn., M.M.', 'L','KATHOLIK','SURABAYA',to_date('08/11/1982','dd/mm/yyyy'), 'Jalan Raya Kali Rungkut 5 No.194', '0', '089254652331');
INSERT INTO DOSEN VALUES('DC001','Detyo Campoko, S.T.', 'L','ISLAM','JOGJAKARTA',to_date('08/11/1982','dd/mm/yyyy'),'Jalan Raya Jemur Andayani No.164', '0', '082211546698');
INSERT INTO DOSEN VALUES('DD001','Devi Dwi Purwanto, S.Kom., M.Kom.', 'P','KATHOLIK','SURABAYA',to_date('08/11/1982','dd/mm/yyyy'),'Jalan Raya Darmo No.228', '1', '081236559784');
INSERT INTO DOSEN VALUES('ER001','Eka Rahayu Setyaningsih, S.Kom., M.Kom.', 'P','KATHOLIK','SURABAYA',to_date('10/11/1995','dd/mm/yyyy'),'Jalan Nginden 5 No.30', '1','08132265548978');
INSERT INTO DOSEN VALUES('ES001','Endang Setyati, Dr., Ir., Hj.,, M.T.', 'P','ISLAM','SURABAYA',to_date('18/03/1998','dd/mm/yyyy'), 'Jalan Panglima Sudirman No.44', '0','081223225468');
INSERT INTO DOSEN VALUES('EP001','Edwin Pramana, Ir., M.AppSc.', 'L','KATHOLIK','SURABAYA',to_date('13/02/2003','dd/mm/yyyy'), 'Jalan Rajawali No.115', '0', '082231655498');
INSERT INTO DOSEN VALUES('EP002','Erick Pranata, S.Kom., M.Kom.', 'L','KRISTEN','SURABAYA',to_date('03/02/2004','dd/mm/yyyy'), 'Jalan Nyamplungan No.127', '0', '082231655497');
INSERT INTO DOSEN VALUES('ES002','Eric Sugiharto, S.SI.', 'L','KRISTEN','SURABAYA',to_date('09/03/2009','dd/mm/yyyy'), 'Jalan Pahlawan No.70', '1','083326549785');
INSERT INTO DOSEN VALUES('EI001','Esther Irawati Setiawan, S.Kom, M.Kom', 'P','BUDHA','MALANG',to_date('17/06/1973','dd/mm/yyyy'),'Jalan Nias No.111', '0', '083326544789');
INSERT INTO DOSEN VALUES('FX001','F.X. Ferdinandus, Ir., M.T.', 'L','KATHOLIK','SURABAYA',to_date('13/11/1978','dd/mm/yyyy'), 'Jalan Nginden 1 No.184', '0','081132654498');
INSERT INTO DOSEN VALUES('FH001','Francisca Haryanti Chandra, Dr., Ir., M.T.', 'P','KRISTEN','BANDUNG',to_date('03/02/1980','dd/mm/yyyy'), 'Jalan Raya Gubeng No.91', '0', '082232226548');
INSERT INTO DOSEN VALUES('GL001','Grace Levina Dewi, S.Kom., M.Kom.', 'P','KRISTEN','SURABAYA',to_date('08/02/1981','dd/mm/yyyy'),'Jalan Raya Medokan Ayu. No.242', '1','082112114658');
INSERT INTO DOSEN VALUES('GU001','Gunawan, Ir., M.Kom.', 'L','KATHOLIK','SURABAYA',to_date('13/03/1981','dd/mm/yyyy'), 'Jalan Pasar Turi No.7', '0', '082222655544');
INSERT INTO DOSEN VALUES('HS001','Hari Sutiksno, Dr., Ir., M.T.', 'L','KRISTEN','SURABAYA',to_date('09/02/1983','dd/mm/yyyy'), 'Jalan Nyamplungan 240 No.253', '1', '081665988743');
INSERT INTO DOSEN VALUES('HJ001','Hartarto Junaedi, S.Kom. ,M.Kom.', 'L','KRISTEN','SURABAYA',to_date('03/01/1986','dd/mm/yyyy'),'Jalan Raya Prapen No.236', '1','0813211234569');
INSERT INTO DOSEN VALUES('HA001','Hendrawan Armanto, S.Kom., M.Kom.', 'L','KRISTEN','SURABAYA',to_date('18/03/1986','dd/mm/yyyy'), 'Jalan Nginden Intan Timur 1 No.72', '0', '081789885462');
INSERT INTO DOSEN VALUES('HB001','Herman Budianto, Ir., M.M.', 'L','BUDHA','JAKARTA',to_date('27/04/1986','dd/mm/yyyy'), 'Jalan Raya Jemur Handayani 50 No.124', '0', '081665987523');
INSERT INTO DOSEN VALUES('IC001','Iwan Chandra, S.Kom.', 'L','KRISTEN','JAKARTA',to_date('13/10/1986','dd/mm/yyyy'), 'Jalan Nginden Semolo No.59', '1', '081655987754');
INSERT INTO DOSEN VALUES('IG001','Imelda Gozali, B.Eng., M.Pd.', 'P','KRISTEN','MALANG',to_date('04/04/1987','dd/mm/yyyy'), 'Jalan Raya Manyar No.171', '1','082211659984');
INSERT INTO DOSEN VALUES('IL001','Indra Lesmana, S.Kom.', 'P','KATHOLIK','JAKARTA',to_date('24/12/1987','dd/mm/yyyy'), 'Jalan Raya Ngagel No.243', '0', '(081445877962');
INSERT INTO DOSEN VALUES('IE001','Ivan Eliata Kusuma, S.T., M.T.', 'P','BUDHA','PORONG',to_date('01/08/1989','dd/mm/yyyy'),'Jalan Raya Rungkut Madya No.88', '0', '081332654841');
INSERT INTO DOSEN VALUES('JC001','Jacky Cahyadi, S.Sn.', 'L','ISLAM','MADURA',to_date('25/09/1991','dd/mm/yyyy'), 'Jalan Raya Jemursari No.158', '0','081332224569');
INSERT INTO DOSEN VALUES('JP001','Jaya Pranata, S.Kom., M.T.', 'L','HINDU','SURABAYA',to_date('03/06/1995','dd/mm/yyyy'),'Jalan Pasar Kembang 4-6 No.201', '1','08123256497');
INSERT INTO DOSEN VALUES('JN001','Dr. Jenny Ngo, MSc.Ed.', 'P','KRISTEN','SURABAYA',to_date('28/12/1995','dd/mm/yyyy'), 'Jalan Rungkut Asri Barat IX No.224', '0','083655541211');
INSERT INTO DOSEN VALUES('JS001','Joan Santoso, S.Kom., M.Kom.', 'L','KRISTEN','BALI',to_date('02/07/1970','dd/mm/yyyy'), 'Jalan Raya Kendangsari No.127', '1', '082236541121');
INSERT INTO DOSEN VALUES('JH001','Jonie Hermanto, S.Kom.', 'L','HINDU','DENPASAR',to_date('02/04/1972','dd/mm/yyyy'),'Jalan Pucang Sewu VII No.139', '0','0813211565488');
INSERT INTO DOSEN VALUES('JP002','Judi Prajetno Sugiono, Ir., M.M.', 'P','KRISTEN','BANJARMASIN',to_date('22/10/1973','dd/mm/yyyy'),'Jalan Ratna No.15', '1', '082233155489');
INSERT INTO DOSEN VALUES('KE001','Kelvin, S.T., M.M.', 'L','KRISTEN','SURABAYA',to_date('10/12/1975','dd/mm/yyyy'),'Jalan Raya ITS, Surabaya No.125', '1','08145622315489');
INSERT INTO DOSEN VALUES('KS001','Kevin Setiono, S.Kom.', 'L','KRISTEN','SURABAYA',to_date('24/08/1976','dd/mm/yyyy'),'Jalan Pemuda 33-35 No.118', '0','082232216598');
INSERT INTO DOSEN VALUES('KG001','Khinardi Gunawan, Ir.', 'L','KATHOLIK','SURABAYA',to_date('09/12/1978','dd/mm/yyyy'), 'Jalan Raya Jambangan No.19', '0','086145221684');
INSERT INTO DOSEN VALUES('KI001','Kristian Indradiarta G., S.Kom.', 'P','KRISTEN','SURABAYA',to_date('14/07/1981','dd/mm/yyyy'), 'jalan pajajaran No.200', '0','084451223203');
INSERT INTO DOSEN VALUES('LZ001','Lukman Zaman P. C. S. W., S.Kom., M.Kom.', 'L','KRISTEN','PADANG',to_date('17/06/1982','dd/mm/yyyy'),'Jalan Penjernihan No.129', '0','08521665234');
INSERT INTO DOSEN VALUES('IY001','Is Yuniarto Nafawi, S.Sn.', 'P','ISLAM','SURABAYA',to_date('04/07/1983','dd/mm/yyyy'), 'Jalan Ronggolawe No.13', '0','081654442133');
INSERT INTO DOSEN VALUES('MB001','Martinus Brahma Dwi Laksana, S.T.', 'L','KATHOLIK','MADIUN',to_date('19/10/1983','dd/mm/yyyy'),'jalan raya jemur andayani No.4', '1', '082231664877');
INSERT INTO DOSEN VALUES('IM001','Indra Maryati, S.Kom., M.Kom.', 'P','KRISTEN','SURABAYA',to_date('21/02/1984','dd/mm/yyyy'), 'Jalan Raya Jemursari No.247', '1', '08221133998');
INSERT INTO DOSEN VALUES('MS001','Mikhael setiawan, S.Kom.', 'L','KRISTEN','SURABAYA',to_date('05/04/1987','dd/mm/yyyy'), 'Jalan Rangkah gg 7 no 26-B No.173', '0', '081132554477');
INSERT INTO DOSEN VALUES('OB001','Oswald Baskoro Satyoadi, Ir., M.Kom.', 'L','BUDHA','MEDAN',to_date('08/12/1989','dd/mm/yyyy'),'Jalan Pengampon VI No.28', '0','082277998832');
INSERT INTO DOSEN VALUES('CP001','C. Pickerling S.Kom.', 'P','KRISTEN','SURABAYA',to_date('16/01/1990','dd/mm/yyyy'), 'Jalan Rungkut Asri Tengah VIII No.24', '1', '083669578421');
INSERT INTO DOSEN VALUES('PE001','Pram Eliyah Yuliana, S.T., M.T.', 'P','KRISTEN','MAKASSAR',to_date('20/06/1992','dd/mm/yyyy'), 'Jalan Pucang Anom Timur No.161', '0','081223156544');
INSERT INTO DOSEN VALUES('SR001','Sri Rahayu, S.T., M.T.', 'P','ISLAM','MAGELANG',to_date('19/09/1973','dd/mm/yyyy'),'Jalan Raya Rungkut Madya Kav 8-10 No.227', '0', '081665454789');
INSERT INTO DOSEN VALUES('RA001','Reddy Alexandro Harianto, S.Kom., M. Kom', 'L','KRISTEN','SURABAYA',to_date('17/10/1974','dd/mm/yyyy'),'Jalan Raya Ngagel No.158', '0', '082264533212');
INSERT INTO DOSEN VALUES('RL001','Riandika Lumaris, S. Kom., M.Kom.', 'L','KATHOLIK','MEDAN',to_date('16/11/1974','dd/mm/yyyy'),'jalan ngagel jaya utara No.250', '0','086633278951');
INSERT INTO DOSEN VALUES('SA001','Sandy Ardianto, S.Kom.', 'L','ISLAM','BANTEN',to_date('05/12/1976','dd/mm/yyyy'),'Jalan Pesapen Selatan No.251', '0','081133224569');
INSERT INTO DOSEN VALUES('SA002','Setya Ardhi, S.T., M.Kom.', 'L','KATHOLIK','SURABAYA',to_date('17/07/1985','dd/mm/yyyy'), 'Jalan Pesapen Kali No.230', '1', '082298633524');
INSERT INTO DOSEN VALUES('SU001','Sufiana, Dra., M.Sn.', 'P','KRISTEN','SURABAYA',to_date('11/01/1986','dd/mm/yyyy'),'Jalan Raya Jemur Sari No.82', '0', '082246497925');
INSERT INTO DOSEN VALUES('ST001','S. Tigor B. Tambunan, S.T., M.M.', 'L','KRISTEN','MANADO',to_date('30/04/1987','dd/mm/yyyy'), 'Jalan Nginden Intan Barat No.199', '1','082231365688');
INSERT INTO DOSEN VALUES('ST002','Suhatati Tjandra, Ir., M.Kom.', 'P','KATHOLIK','SURABAYA',to_date('30/06/1989','dd/mm/yyyy'),'Jalan Pasar Turi 1 No.221', '0','082246462232');
INSERT INTO DOSEN VALUES('HT001','Herman Thuan To Saurik, S.Kom., M.T.', 'L','KATHOLIK','SURABAYA',to_date('26/11/1992','dd/mm/yyyy'), 'Jalan Raya Prapen No.202', '0','081144778985');
INSERT INTO DOSEN VALUES('TP001','Tjwanda Putera Gunawan, Ir., M.Pd.', 'L','KATHOLIK','JAKARTA',to_date('18/06/1993','dd/mm/yyyy'), 'jalan pogot No.44', '1','089979552132');
INSERT INTO DOSEN VALUES('MD001','Masrara Dwi Yanti Handayani, S.Pd.', 'P','KRISTEN','DEPOK',to_date('26/03/1996','dd/mm/yyyy'),'Jalan Panglima Sudirman No.210', '0', '084432125568');
INSERT INTO DOSEN VALUES('YM001','Yuliana Melita Pranoto, S.Kom., M.Kom.', 'P','KRISTEN','AMBON',to_date('02/09/1972','dd/mm/yyyy'),'Jalan Raya Lontar No.237', '1', '089979855231');
INSERT INTO DOSEN VALUES('YJ001','Yohanes Joko H., Drs., M.S.', 'L','KATHOLIK','SURABAYA',to_date('15/08/1974','dd/mm/yyyy'),'Jalan Raya Lontar No.66', '0','083346558792');
INSERT INTO DOSEN VALUES('YK001','Yosi Kristian, S.Kom., M.Kom.', 'L','HINDU','DENPASAR',to_date('08/07/1975','dd/mm/yyyy'),'Jalan Nginden II No.88', '1', '085599693216');
INSERT INTO DOSEN VALUES('YW001','Yulius Widi Nugroho, S.Sn. ,M.Si.', 'P','KRISTEN','SURABAYA',to_date('17/12/1978','dd/mm/yyyy'), 'Jalan Nginden 2 No.99', '0','086631465198');

	INSERT INTO MAHASISWA VALUES('217011670','AG001','01','Daud Kurnia Tanamas','ISLAM','SURABAYA',to_date('14/02/1999','dd/mm/yyyy'),'L','Jalan ngaglik no.21','082232347447','Budianto Tanamas','082232345685');
	INSERT INTO MAHASISWA VALUES('217011671','AD002','01','Dimas Bagus Nugroho Verdy Anwar','ISLAM','BANDUNG',to_date('16/02/1999','dd/mm/yyyy'),'L','Jalan Madu no. 32','081654445288','Bambang Ade Tan','081321115462');
	INSERT INTO MAHASISWA VALUES('217011672','DA001','01','Hafizh Ainanto Pratama','KRISTEN','SURABAYA',to_date('04/04/1999','dd/mm/yyyy'),'L','Jalan Mangga no.353','082215664832','Bambang Iskandar Sudirman','082655489723');
	INSERT INTO MAHASISWA VALUES('217011673','AA001','01','Laurentius Dirga Cahya Putra','KATHOLIK','MAGELANG',to_date('14/04/1999','dd/mm/yyyy'),'L','Jalan Manggis no.09','081987772563','Ciawi Enlai','08826452213');
	INSERT INTO MAHASISWA VALUES('217011674','DD001','01','Reyhan Rahma Sugiarto','KATHOLIK','SURABAYA',to_date('21/05/1999','dd/mm/yyyy'),'P','Jalan Panderman no.56','084526669872','Liecharlie Bingwen','083362552134');
	INSERT INTO MAHASISWA VALUES('217011675','ER001','01','Rifqy Alfiansyah','ISLAM','SURABAYA',to_date('25/05/1999','dd/mm/yyyy'),'L','Jalan ngagel jaya selatan no.89','085698745216','Mujahid Buchori','087988254623');
	INSERT INTO MAHASISWA VALUES('217102588','ES002','10','Andreas Wijaya','KRISTEN','PANDAAN',to_date('15/06/1999','dd/mm/yyyy'),'L','Jalan Sulawesi no. 45-47','086369852213','Zebulun Napitupulu','084622650310');
	INSERT INTO MAHASISWA VALUES('217102589','GL001','10','Christine Calista','KRISTEN','SURABAYA',to_date('07/08/1999','dd/mm/yyyy')'P','Jalan Kalijudan no.11','0879885232110','John Hutaurat','086632139885');
	INSERT INTO MAHASISWA VALUES('217102590','HS001','10','Dafi Gumawang Priadi','KRISTEN','PADANG',to_date('13/08/1999','dd/mm/yyyy'),'L','Jalan Pahlawan no. 13','087966523152','Ethan Sihotang','089963662001');
	INSERT INTO MAHASISWA VALUES('217102591','HJ001','10','Jeffry Sandy Purnomo','KATHOLIK','SURABAYA',to_date('26/08/1999','dd/mm/yyyy'),'L','Jalan Kalikepiting no. 111','082231564420','Budi','086632120046');
	INSERT INTO MAHASISWA VALUES('217102592','IC001','10','Rio Ardandi','BUDHA','SURABAYA',to_date('21/10/1999','dd/mm/yyyy'),'L','Jalan Padang-Padang no.33','082232134693','Iman Sudirman Kartawijaya','082231316522');
	INSERT INTO MAHASISWA VALUES('217102593','IG001','10','Rohman Is Wahyudi','ISLAM','ACEH',to_date('10/11/1999','dd/mm/yyyy'),'L','Jalan Mulyosari no. 12','081020332564','Dian Kusuma Sutedja','083310105607');
	INSERT INTO MAHASISWA VALUES('217102594','JP001','10','Teguh Santoso','KATHOLIK','SURABAYA',to_date('13/11/1999','dd/mm/yyyy'),'L','Jalan Sutorejo no. 23','081651220031','Tanutama Guangli','082210312505');
	INSERT INTO MAHASISWA VALUES('217102595','JS001','10','Tonny Salim Suswanto','HINDU','DENPASAR',to_date('23/12/1999','dd/mm/yyyy'),'L','Jalan Manokwari no.69','085422310155','Lika Minsheng','082231663520');

INSERT INTO JURUSAN VALUES('11','S1-Teknik Informatika','YK001');
INSERT INTO JURUSAN VALUES('17','S1-Desain Komunikasi Visual','LZ001');
INSERT INTO JURUSAN VALUES('18','S1-Sistem Informasi Bisnis','HJ001');
INSERT INTO JURUSAN VALUES('10','S1-Teknik Elektro','GU001');
INSERT INTO JURUSAN VALUES('12','S1-Teknik Industri','ST001');
INSERT INTO JURUSAN VALUES('14','S1-Desain Produk','AD001');
INSERT INTO JURUSAN VALUES('01','D3-Manajemen Informatika','YK001');
INSERT INTO JURUSAN VALUES('31','Prog.Prof.S1-Teknik Informatika','EI001');
INSERT INTO JURUSAN VALUES('21','S2-Teknologi Informasi','AT001');


INSERT INTO PERIODE VALUES('P2019','2019');
INSERT INTO PERIODE VALUES('P2018','2018');
INSERT INTO PERIODE VALUES('P2017','2017');
INSERT INTO PERIODE VALUES('P2016','2016');
INSERT INTO PERIODE VALUES('P2015','2015');

INSERT INTO MATAKULIAH VALUES('PC001','11','Pemrograman Client Server',3,1,'P2019');
INSERT INTO MATAKULIAH VALUES('ES001','11','Embedded System',3,1,'P2019');
INSERT INTO MATAKULIAH VALUES('BI001','11','Bahasa Inggris',2,1,'P2019');
INSERT INTO MATAKULIAH VALUES('KE001','11','Kewarganegaraan',3,1,'P2019');
INSERT INTO MATAKULIAH VALUES('PV001','11','Pemrograman Visual',3,1,'P2019');
INSERT INTO MATAKULIAH VALUES('TY001','17','Typhography',3,1,'P2019');
INSERT INTO MATAKULIAH VALUES('AV001','17','Audio Visual 1',3,1,'P2019');
INSERT INTO MATAKULIAH VALUES('AV002','17','Audio Visual 2',3,1,'P2019');
INSERT INTO MATAKULIAH VALUES('AN001','17','Animasi',3,1,'P2019');
INSERT INTO MATAKULIAH VALUES('MA001','17','Manajemen Advertising',3,1,'P2019');

INSERT INTO KELAS VALUES('KI001','PC001','Pemrograman Client Server Infor Kelas A 2019',30);
INSERT INTO KELAS VALUES('KI002','ES001','Embedded System Infor Kelas A 2019',30);
INSERT INTO KELAS VALUES('KI003','BI001','Bahasa Inggris Infor Kelas A 2019',30);
INSERT INTO KELAS VALUES('KI004','KE001','Kewarganegaraan Infor Kelas A 2019',30);
INSERT INTO KELAS VALUES('KI005','PV001','Pemrograman Visual Infor Kelas A 2019',30);
INSERT INTO KELAS VALUES('KD001','TY001','Typhography DKV Kelas A 2019',30);
INSERT INTO KELAS VALUES('KD002','AV001','Audio Visual 1 DKV Kelas A 2019',30);
INSERT INTO KELAS VALUES('KD003','AV002','Audio Visual 2 DKV Kelas A 2019',30);
INSERT INTO KELAS VALUES('KD004','AN001','Animasi Kelas A 2019',30);
INSERT INTO KELAS VALUES('KD005','MA001','Manajemen Advertising DKV Kelas A 2019',30);
INSERT INTO KELAS VALUES('KI006','PC001','Pemrograman Client Server Infor Kelas B 2019',30);
INSERT INTO KELAS VALUES('KI007','ES001','Embedded System Infor Kelas B 2019',30);
INSERT INTO KELAS VALUES('KI008','BI001','Bahasa Inggris Infor Kelas B 2019',30);
INSERT INTO KELAS VALUES('KI009','KE001','Kewarganegaraan Infor Kelas B 2019',30);
INSERT INTO KELAS VALUES('KI010','PV001','Pemrograman Visual Infor Kelas B 2019',30);
INSERT INTO KELAS VALUES('KD006','TY001','Typhography DKV Kelas B 2019',30);
INSERT INTO KELAS VALUES('KD007','AV001','Audio Visual 1 DKV Kelas B 2019',30);
INSERT INTO KELAS VALUES('KD008','AV002','Audio Visual 2 DKV Kelas B 2019',30);
INSERT INTO KELAS VALUES('KD009','AN001','Animasi Kelas B 2019',30);
INSERT INTO KELAS VALUES('KD010','MA001','Manajemen Advertising DKV Kelas B 2019',30);

INSERT INTO PERWALIAN VALUES('FINF1670','217011670','P2018',3);
INSERT INTO PERWALIAN VALUES('FINF1671','217011671','P2018',3);
INSERT INTO PERWALIAN VALUES('FINF1672','217011672','P2018',3);
INSERT INTO PERWALIAN VALUES('FINF1673','217011673','P2018',3);
INSERT INTO PERWALIAN VALUES('FINF1674','217011674','P2018',3);
INSERT INTO PERWALIAN VALUES('FINF1675','217011675','P2018',3);

INSERT INTO DPERWALIAN VALUES('FINF1670','PV001',1,SYSDATE,1);
INSERT INTO DPERWALIAN VALUES('FINF1671','PV001',1,SYSDATE,1);
INSERT INTO DPERWALIAN VALUES('FINF1672','PV001',1,SYSDATE,1);
INSERT INTO DPERWALIAN VALUES('FINF1673','PV001',1,SYSDATE,1);
INSERT INTO DPERWALIAN VALUES('FINF1674','PV001',1,SYSDATE,1);
INSERT INTO DPERWALIAN VALUES('FINF1675','PV001',1,SYSDATE,1);
INSERT INTO DPERWALIAN VALUES('FINF1670','PC001',1,SYSDATE,1);
INSERT INTO DPERWALIAN VALUES('FINF1671','PC001',1,SYSDATE,1);
INSERT INTO DPERWALIAN VALUES('FINF1672','PC001',1,SYSDATE,1);
INSERT INTO DPERWALIAN VALUES('FINF1673','PC001',1,SYSDATE,1);
INSERT INTO DPERWALIAN VALUES('FINF1674','PC001',1,SYSDATE,1);
INSERT INTO DPERWALIAN VALUES('FINF1675','PC001',1,SYSDATE,1);

INSERT INTO RUANGAN VALUES('E301',50,'Ruang Kelas');
INSERT INTO RUANGAN VALUES('E305',50,'Ruang Kelas');
INSERT INTO RUANGAN VALUES('N110',50,'Ruang Kelas');
INSERT INTO RUANGAN VALUES('E401',50,'Lab Infor E');
INSERT INTO RUANGAN VALUES('E402',100,'Ruang Serbaguna');
INSERT INTO RUANGAN VALUES('U401',100,'Ruang Kelas');
INSERT INTO RUANGAN VALUES('L204',100,'Ruang Kelas/Lab infor A');

INSERT INTO JADWAL VALUES('JW001','MS001','L204','KI001','PC001','P2019','Jumat','13:00','15.30');
INSERT INTO JADWAL VALUES('JW002','EP001','E402','KI004','KE001','P2019','Jumat','13:00','15.30');
INSERT INTO JADWAL VALUES('JW003','EI001','L204','KI005','PV001','P2019','Rabu','13:00','15.30');
INSERT INTO JADWAL VALUES('JW004','AT001','U401','KI002','ES001','P2019','Selasa','08:00','10.30');
INSERT INTO JADWAL VALUES('JW005','MD001','E301','KI003','BI001','P2019','Jumat','08:00','09.50');


create or replace function autogennip
(inputnama in varchar2)
return varchar2
is
	namadepan varchar2(1);
	namabelakang varchar2(1);
	gabung varchar2(2);
	angka number(3);
	hasil varchar2(5);
begin
	if instr(inputnama,' ',1) = 0 then
		namadepan := initcap(substr(inputnama,1,1));
		namabelakang := initcap(substr(inputnama,2,1));
	elsif instr(inputnama,' ',-1,1) > 0 then
		namadepan := initcap(substr(inputnama,1,1));
		namabelakang := initcap(substr(inputnama,instr(inputnama, ' ',-1,1)+1,1));
	elsif instr(inputnama,' ',1) > 0 then
		namadepan := initcap(substr(inputnama,1,1));
		namabelakang := initcap(substr(inputnama,instr(inputnama, ' ',1)+1,1));
	end if;
	gabung := namadepan || namabelakang;
	select to_number(max(substr(nip,3,3))) into angka from dosen where substr(nip,1,2) = gabung;
	if angka is NULL then
		hasil := gabung || lpad(1,3,'0');
	else
		if angka > 0 then
			hasil := gabung || lpad(angka+1,3,'0');
		else
			hasil := gabung || lpad(angka,3,'0');
		end if;
	end if;
	return hasil;
end;
/
show err;
select autogennip('Farrell Gunawan') from dual;

set serveroutput on;
create or replace procedure p1
is
begin
	dbms_output.put_line('========================');
	dbms_output.put_line('');
end;
/
show err;
execute p1;

create or replace function autogenfrs1
(inputnrp in varchar2)
return varchar2
is
	depan varchar2(1);
	jurusan varchar2(3);
	gabung varchar2(4);
	nrp number(4);
	hasil varchar2(8);
begin
	if substr(inputnrp,4,2) = 01 then
		depan := 'F';
		jurusan := 'INF';
		gabung := depan || jurusan;
		nrp := substr(inputnrp,6,4);
		hasil := gabung || nrp;
	end if;
	
	return hasil;
end;
/
show err;



select substr(NRP,6,4) from PERWALIAN;

select autogenfrs1('217011670') from dual;